<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Denuncias Vecinales</title>

<style>
    body {
        font-family: 'Poppins', sans-serif;
        margin: 0;
        background-color: #0b0b0b;
        color: #e0e0e0;
    }

    header {
        background: #1a1a1a;
        color: #fff;
        text-align: center;
        padding: 2rem 1rem;
        border-bottom: 2px solid #444;
    }

    header h1 {
        margin: 0;
        font-size: 2rem;
    }

    header p {
        color: #999;
    }

    nav {
        display: flex;
        justify-content: center;
        background: #151515;
        padding: 0.8rem;
        border-bottom: 1px solid #333;
    }

    nav button {
        background: #2b2b2b;
        color: #ccc;
        border: none;
        padding: 0.7rem 1.5rem;
        margin: 0 0.5rem;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    nav button.active, nav button:hover {
        background: #555;
        color: #fff;
    }

    main {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 2rem;
    }

    section {
        background: #1a1a1a;
        border-radius: 15px;
        width: 90%;
        max-width: 700px;
        padding: 1.5rem;
        margin-bottom: 2rem;
        display: none;
        box-shadow: 0 0 10px rgba(0,0,0,0.6);
    }

    section.active {
        display: block;
    }

    h2 {
        text-align: center;
        color: #fff;
        margin-bottom: 1rem;
    }

    form label {
        display: block;
        margin-top: 1rem;
        color: #ccc;
    }

    form input, form select, form textarea {
        width: 100%;
        padding: 0.7rem;
        margin-top: 0.3rem;
        border: 1px solid #444;
        border-radius: 6px;
        background: #0f0f0f;
        color: #eee;
    }

    input[type="file"] {
        background: #1c1c1c;
        padding: 0.4rem;
    }

    button.enviar {
        margin-top: 1rem;
        background: #333;
        color: #fff;
        border: none;
        padding: 0.8rem;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        width: 100%;
        transition: 0.3s;
    }

    button.enviar:hover {
        background: #555;
    }

    .mensaje-exito {
        display: none;
        background: #2e7d32;
        color: #c8e6c9;
        padding: 0.7rem;
        margin-top: 1rem;
        text-align: center;
        border-radius: 6px;
    }

    .denuncia, .comunicado {
        background: #222;
        border-left: 5px solid #666;
        border-radius: 10px;
        padding: 1rem;
        margin-top: 1rem;
    }

    .denuncia img, .comunicado img {
        width: 100%;
        max-height: 300px;
        object-fit: cover;
        border-radius: 8px;
        margin-top: 0.6rem;
    }

    .acciones {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-top: 0.6rem;
    }

    .like-btn {
        background: none;
        border: none;
        cursor: pointer;
        color: #000; /* negro por defecto */
        font-size: 1.2rem;
        transition: color 0.3s ease;
        display: flex;
        align-items: center;
        gap: 0.3rem;
    }

    .like-btn.liked {
        color: #ff4444; /* rojo al dar like */
    }

    .comentarios {
        margin-top: 0.8rem;
        background: #111;
        border-radius: 8px;
        padding: 0.6rem;
    }

    .comentarios input {
        width: 80%;
        background: #222;
        border: 1px solid #333;
        color: #ddd;
        padding: 0.4rem;
        border-radius: 5px;
    }

    .comentarios button {
        background: #444;
        border: none;
        color: #fff;
        padding: 0.4rem 0.8rem;
        border-radius: 6px;
        cursor: pointer;
    }

    .comentarios button:hover {
        background: #666;
    }

    .listaComentarios {
        display: none;
        margin-top: 0.5rem;
    }

    .listaComentarios p {
        margin: 0.3rem 0;
        font-size: 0.9rem;
        color: #ccc;
    }

    footer {
        text-align: center;
        padding: 1rem;
        background: #111;
        color: #888;
        font-size: 0.9rem;
    }
</style>
</head>

<body>
<header>
    <h1>üì£ Denuncias Vecinales</h1>
    <p>Denuncia, comparte y mejora tu comunidad</p>
</header>

<nav>
    <button id="btnRegistrar">üìù Registrar</button>
    <button id="btnComunicados" class="active">üì¢ Comunicados</button>
    <button id="btnDenuncias">‚öñÔ∏è Denuncias</button>
</nav>

<main>
    <!-- SECCI√ìN REGISTRAR -->
    <section id="registrar">
        <h2>üìù Registro de Usuario</h2>
        <form id="formRegistrar">
            <label>Nombre de usuario:</label>
            <input type="text" id="usuario" required>
            <label>Correo electr√≥nico:</label>
            <input type="email" id="email" required>
            <label>Contrase√±a:</label>
            <input type="password" id="password" required>
            <button class="enviar" type="submit">Registrar</button>
        </form>
        <div id="mensajeRegistrar" class="mensaje-exito">‚úÖ Registro exitoso</div>
    </section>

    <!-- SECCI√ìN COMUNICADOS -->
    <section id="comunicados" class="active">
        <h2>üì¢ Comunicados del Barrio</h2>
        <form id="formComunicado">
            <label>T√≠tulo del comunicado:</label>
            <input type="text" id="tituloComunicado" required>

            <label>Descripci√≥n:</label>
            <textarea id="descComunicado" rows="3" required></textarea>

            <label>Foto (opcional):</label>
            <input type="file" id="fotoComunicado" accept="image/*">

            <button class="enviar" type="submit">Agregar Comunicado üì∏</button>
        </form>

        <div id="mensajeComunicado" class="mensaje-exito">‚úÖ Comunicado agregado</div>
        <div id="listaComunicados"></div>
    </section>

    <!-- SECCI√ìN DENUNCIAS -->
    <section id="denuncias">
        <h2>‚öñÔ∏è Denuncias Vecinales</h2>
        <form id="formDenuncia">
            <label>Nombre (opcional):</label>
            <input type="text" id="nombre">

            <label>Categor√≠a:</label>
            <select id="categoria" required>
                <option value="">Selecciona una opci√≥n</option>
                <option>Ruido excesivo</option>
                <option>Basura</option>
                <option>Seguridad</option>
                <option>Otros</option>
            </select>

            <label>Descripci√≥n:</label>
            <textarea id="descripcion" rows="3" required></textarea>

            <label>Foto (opcional):</label>
            <input type="file" id="fotoDenuncia" accept="image/*">

            <button class="enviar" type="submit">Enviar Denuncia üöÄ</button>
        </form>

        <div id="mensajeDenuncia" class="mensaje-exito">‚úÖ ¬°Denuncia enviada!</div>
        <div id="listaDenuncias"></div>
    </section>
</main>

<footer>¬© 2025 Denuncias Vecinales - Hecho por estudiantes del colegio Rep Argentina</footer>

<script>
    // Cambio de pesta√±as
    const btnRegistrar = document.getElementById('btnRegistrar');
    const btnComunicados = document.getElementById('btnComunicados');
    const btnDenuncias = document.getElementById('btnDenuncias');

    const seccionRegistrar = document.getElementById('registrar');
    const seccionComunicados = document.getElementById('comunicados');
    const seccionDenuncias = document.getElementById('denuncias');

    btnRegistrar.onclick = () => {
        seccionRegistrar.classList.add('active');
        seccionComunicados.classList.remove('active');
        seccionDenuncias.classList.remove('active');
        btnRegistrar.classList.add('active');
        btnComunicados.classList.remove('active');
        btnDenuncias.classList.remove('active');
    };

    btnComunicados.onclick = () => {
        seccionRegistrar.classList.remove('active');
        seccionComunicados.classList.add('active');
        seccionDenuncias.classList.remove('active');
        btnComunicados.classList.add('active');
        btnRegistrar.classList.remove('active');
        btnDenuncias.classList.remove('active');
    };

    btnDenuncias.onclick = () => {
        seccionRegistrar.classList.remove('active');
        seccionComunicados.classList.remove('active');
        seccionDenuncias.classList.add('active');
        btnDenuncias.classList.add('active');
        btnRegistrar.classList.remove('active');
        btnComunicados.classList.remove('active');
    };

    // Agregar comunicados
    const formComunicado = document.getElementById('formComunicado');
    const listaComunicados = document.getElementById('listaComunicados');

    formComunicado.addEventListener('submit', e => {
        e.preventDefault();
        const titulo = document.getElementById('tituloComunicado').value;
        const desc = document.getElementById('descComunicado').value;
        const foto = document.getElementById('fotoComunicado').files[0];

        const div = document.createElement('div');
        div.classList.add('comunicado');
        div.innerHTML = `<strong>${titulo}</strong><p>${desc}</p>`;

        if (foto) {
            const img = document.createElement('img');
            img.src = URL.createObjectURL(foto);
            div.appendChild(img);
        }

        listaComunicados.prepend(div);
        formComunicado.reset();
        mostrarMensaje('mensajeComunicado');
    });

    // Agregar denuncias
    const formDenuncia = document.getElementById('formDenuncia');
    const listaDenuncias = document.getElementById('listaDenuncias');

    formDenuncia.addEventListener('submit', e => {
        e.preventDefault();
        const nombre = document.getElementById('nombre').value || 'An√≥nimo';
        const categoria = document.getElementById('categoria').value;
        const descripcion = document.getElementById('descripcion').value;
        const foto = document.getElementById('fotoDenuncia').files[0];

        const div = document.createElement('div');
        div.classList.add('denuncia');
        div.innerHTML = `
            <strong>${categoria}</strong> - <small>${nombre}</small>
            <p>${descripcion}</p>
            <div class="acciones">
                <button class="like-btn">‚ù§Ô∏è <span>0</span></button>
                <button class="ver-comentarios">üí¨ 0 comentarios</button>
            </div>
            <div class="comentarios">
                <input type="text" placeholder="Escribe un comentario...">
                <button class="enviar-comentario">Enviar</button>
                <div class="listaComentarios"></div>
            </div>
        `;

        if (foto) {
            const img = document.createElement('img');
            img.src = URL.createObjectURL(foto);
            div.appendChild(img);
        }

        // Like system
        const likeBtn = div.querySelector('.like-btn');
        likeBtn.addEventListener('click', () => {
            const liked = likeBtn.classList.toggle('liked');
            const span = likeBtn.querySelector('span');
            let count = parseInt(span.textContent);
            span.textContent = liked ? count + 1 : count - 1;
        });

        // Comentarios
        const inputComentario = div.querySelector('.comentarios input');
        const enviarComentario = div.querySelector('.enviar-comentario');
        const listaComentarios = div.querySelector('.listaComentarios');
        const verComentarios = div.querySelector('.ver-comentarios');
        let numComentarios = 0;

        enviarComentario.addEventListener('click', () => {
            const texto = inputComentario.value.trim();
            if (texto) {
                const p = document.createElement('p');
                p.textContent = "üí¨ " + texto;
                listaComentarios.appendChild(p);
                inputComentario.value = '';
                numComentarios++;
                verComentarios.textContent = `üí¨ ${numComentarios} comentarios`;
            }
        });

        verComentarios.addEventListener('click', () => {
            listaComentarios.style.display = listaComentarios.style.display === 'none' || listaComentarios.style.display === '' ? 'block' : 'none';
        });

        listaDenuncias.prepend(div);
        formDenuncia.reset();
        mostrarMensaje('mensajeDenuncia');
    });

    // Registro de usuario
    const formRegistrar = document.getElementById('formRegistrar');
    formRegistrar.addEventListener('submit', e => {
        e.preventDefault();
        mostrarMensaje('mensajeRegistrar');
        formRegistrar.reset();
    });

    function mostrarMensaje(id) {
        const msg = document.getElementById(id);
        msg.style.display = 'block';
        setTimeout(() => msg.style.display = 'none', 2500);
    }
</script>
</body>
</html>
